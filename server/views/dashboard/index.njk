{% from "govuk/components/back-link/macro.njk" import govukBackLink %}

{% extends "../partials/layout.njk" %}

{% set pageTitleOverride = "Accredited Programmes service" %}
{% set mainClasses = "app-container govuk-body dashboard__main" %}

{% block backLink %}
  {{ govukBackLink({
    text: "Digital Prison Services",
    href: dpsUrl
  }) }}
{% endblock backLink %}

{% block homeLink %}{% endblock homeLink %}

{% block content %}
  <h1 class="govuk-heading-l">{{ pageHeading }}</h1>

  <div class="dashboard__cards-wrapper">
    <div class="govuk-grid-row dashboard__cards">
      <div class="govuk-grid-column-one-third dashboard__card-wrapper">
        <div class="dashboard__card">
          <h2 class="govuk-heading-m dashboard__card-heading">
            <a class="govuk-link dashboard__card-link" href="{{ findPath }}">Find a programme and make a referral</a>
          </h2>
          <p class="govuk-body dashboard__card-description">Search for Accredited Programmes, find out where they’re running and start a referral.</p>
        </div>
      </div>

      {% if 'ROLE_ACP_REFERRER' in user.roles %}
        <div class="govuk-grid-column-one-third dashboard__card-wrapper">
          <div class="dashboard__card">
            <h2 class="govuk-heading-m dashboard__card-heading">
              <a class="govuk-link dashboard__card-link" href="{{ referCaseListPath }}">My referrals</a>
            </h2>
            <p class="govuk-body dashboard__card-description">View draft, open and closed referrals you have made.</p>
          </div>
        </div>
      {% endif %}

      {% if 'ROLE_ACP_PROGRAMME_TEAM' in user.roles %}
        <div class="govuk-grid-column-one-third dashboard__card-wrapper">
          <div class="dashboard__card">
            <h2 class="govuk-heading-m dashboard__card-heading">
              <a class="govuk-link dashboard__card-link" href="{{ assessCaseListPath }}">Manage your programme team’s referrals</a>
            </h2>
            <p class="govuk-body dashboard__card-description">View and update all referrals made to your programme team.</p>
          </div>
        </div>
      {% endif %}

      {% if showHspLink %}
        <div class="govuk-grid-column-one-third dashboard__card-wrapper">
          <div class="dashboard__card">
            <h2 class="govuk-heading-m dashboard__card-heading">
              <a class="govuk-link dashboard__card-link" href="{{ hspPath }}">HSP referrals</a>
            </h2>
            <p class="govuk-body dashboard__card-description">View and update all national referrals to HSP.</p>
          </div>
        </div>
      {% endif %}

      <div class="govuk-grid-column-one-third dashboard__card-wrapper">
        <div class="dashboard__card">
          <h2 class="govuk-heading-m dashboard__card-heading">
            <a class="govuk-link dashboard__card-link" href="{{ reportPath }}">Reporting data</a>
          </h2>
          <p class="govuk-body dashboard__card-description">See data about Accredited programmes.</p>
        </div>
      </div>

      {% if 'ROLE_ACP_EDITOR' in user.roles %}
        <div class="govuk-grid-column-one-third dashboard__card-wrapper">
          <div class="dashboard__card">
            <h2 class="govuk-heading-m dashboard__card-heading">
              <a class="govuk-link dashboard__card-link" href="{{ findAllProgrammesPath }}">Manage courses</a>
            </h2>
            <p class="govuk-body dashboard__card-description">Manage courses and offerings.</p>
          </div>
        </div>
      {% endif %}

    </div>
  </div>
{% endblock content %}
