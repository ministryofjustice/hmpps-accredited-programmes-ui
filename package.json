{
  "name": "hmpps-accredited-programmes-ui",
  "version": "0.0.1",
  "description": "HMPPS Accredited Programmes UI",
  "repository": "git@github.com:ministryofjustice/hmpps-accredited-programmes-ui.git",
  "license": "MIT",
  "scripts": {
    "build": "npm run compile-sass && tsc && npm run copy-views",
    "clean": "rm -rf dist build node_modules stylesheets",
    "compile-sass": "sass --quiet-deps --no-source-map --load-path=node_modules/govuk-frontend/dist --load-path=node_modules/@ministryofjustice/frontend --load-path=. assets/scss/application.scss:./assets/stylesheets/application.css --style compressed",
    "copy-views": "cp -R server/views dist/server/",
    "generate-api-seeds": "ts-node script/utils/generateApiSeeds/runner.ts",
    "generate-govuk-frontend-types": "ts-node script/utils/generateGovukFrontendTypes/runner.ts && prettier --write server/@types/govukFrontend/index.d.ts",
    "lint:ci": "npm run lint:css && npm run lint:js",
    "lint:css": "npx stylelint \"assets/scss/components/*.scss\"",
    "lint:js": "eslint . --cache --max-warnings 0",
    "lint:js:fix": "eslint . --fix",
    "lint:njk": "djlint .",
    "lint": "npm run lint:css && npm run lint:js && npm run lint:njk",
    "record-build-info": "node ./bin/record-build-info",
    "security_audit": "npx audit-ci --config audit-ci.json",
    "start:dev": "NODE_WATCH=\"npm run watch:node:dev\" npm run start:template",
    "start:integration:refer-disabled": "NODE_WATCH=\"npm run watch:node:integration:refer-disabled\" npm run start:template",
    "start:integration": "NODE_WATCH=\"npm run watch:node:integration\" npm run start:template",
    "start:template": "npm run build && concurrently -k -p \"[{name}]\" -n \"Views,TypeScript,Node,Sass\" -c \"yellow.bold,cyan.bold,green.bold,blue.bold\" \"npm run watch:views\" \"npm run watch:ts\" \"$NODE_WATCH\" \"npm run watch:sass\"",
    "start": "node $NODE_OPTIONS dist/server.js | bunyan -o short",
    "test:integration:ci:server": "export $(cat integration.env) REDIS_PORT=6379 && node $NODE_DEBUG_OPTION dist/server.js | bunyan -o short",
    "test:integration:cli:run": "cypress run",
    "test:integration:cli:server": "export $(cat integration.env) && node $NODE_DEBUG_OPTION dist/server.js | bunyan -o short",
    "test:integration:cli": "npm run test:integration:start-backing-services && start-server-and-test test:integration:cli:server http://localhost:3007/ping test:integration:cli:run",
    "test:integration:refer-disabled:ci:server": "export $(cat integration.env) REDIS_PORT=6379 REFER_ENABLED=false && node $NODE_DEBUG_OPTION dist/server.js | bunyan -o short",
    "test:integration:refer-disabled:cli:run": "cypress run --config-file cypress-refer-disabled.config.ts",
    "test:integration:refer-disabled:cli:server": "export $(cat integration.env) REFER_ENABLED=false && node $NODE_DEBUG_OPTION dist/server.js | bunyan -o short",
    "test:integration:refer-disabled:cli": "npm run test:integration:start-backing-services && start-server-and-test test:integration:refer-disabled:cli:server http://localhost:3007/ping test:integration:refer-disabled:cli:run",
    "test:integration:refer-disabled:ui:run": "cypress open --config-file cypress-refer-disabled.config.ts",
    "test:integration:refer-disabled:ui:server": "npm run start:integration:refer-disabled",
    "test:integration:refer-disabled:ui": "npm run test:integration:start-backing-services && start-server-and-test test:integration:refer-disabled:ui:server http://localhost:3007/ping test:integration:refer-disabled:ui:run",
    "test:integration:start-backing-services": "docker-compose -p hmpps-accredited-programmes-ui_integration-test -f docker-compose-test.yml up -d",
    "test:integration:ui:run": "cypress open",
    "test:integration:ui:server": "npm run start:integration",
    "test:integration:ui": "npm run test:integration:start-backing-services && start-server-and-test test:integration:ui:server http://localhost:3007/ping test:integration:ui:run",
    "test:unit:ci": "TZ=Europe/London jest --runInBand",
    "test:unit:debug": "npm run --collectCoverage=false",
    "test:unit": "TZ=Europe/London jest",
    "test-history": "script/test-history --test=\"script/test\"",
    "test-history:integration": "script/test-history --test=\"npm run build && npm run test:integration:cli && npm run test:integration:refer-disabled:cli\"",
    "test-history:typecheck": "script/test-history --test=\"npm run typecheck\"",
    "test-history:unit": "script/test-history",
    "typecheck": "tsc && tsc -p integration_tests && tsc -p script",
    "watch:node:dev": "DEBUG=gov-starter-server* nodemon -r dotenv/config --watch dist/ dist/server.js | bunyan -o short",
    "watch:node:integration:refer-disabled": "export $(cat integration.env) REFER_ENABLED=false && nodemon --watch dist/ $NODE_DEBUG_OPTION dist/server.js | bunyan -o short",
    "watch:node:integration": "export $(cat integration.env) && nodemon --watch dist/ $NODE_DEBUG_OPTION dist/server.js | bunyan -o short",
    "watch:sass": "npm run compile-sass -- --watch",
    "watch:ts": "tsc -w",
    "watch:views": "nodemon --watch server/views -e html,njk -x npm run copy-views"
  },
  "engines": {
    "node": "^22",
    "npm": "^11.0.0"
  },
  "dependencies": {
    "@faker-js/faker": "^9.0.0",
    "@ministryofjustice/frontend": "^4.0.0",
    "@ministryofjustice/hmpps-connect-dps-components": "^2.2.0",
    "@sentry/node": "^9.0.0",
    "agentkeepalive": "^4.3.0",
    "applicationinsights": "^2.5.1",
    "bunyan": "^1.8.15",
    "bunyan-format": "^0.2.1",
    "compression": "^1.7.4",
    "connect-flash": "^0.1.1",
    "connect-redis": "^9.0.0",
    "csrf-sync": "^4.0.3",
    "express": "^4.18.2",
    "express-prom-bundle": "^8.0.0",
    "express-session": "^1.17.3",
    "fishery": "^2.2.2",
    "govuk-frontend": "^5.2.0",
    "helmet": "^8.0.0",
    "http-errors": "^2.0.0",
    "jquery": "^3.6.4",
    "jwt-decode": "^4.0.0",
    "method-override": "^3.0.0",
    "nocache": "^4.0.0",
    "nunjucks": "^3.2.4",
    "object.groupby": "^1.0.3",
    "passport": "^0.7.0",
    "passport-oauth2": "^1.7.0",
    "prom-client": "^15.1.0",
    "redis": "^5.0.0",
    "static-path": "^0.0.4",
    "superagent": "^10.2.2",
    "url-value-parser": "^2.2.0",
    "uuid": "^11.0.0"
  },
  "devDependencies": {
    "@golevelup/ts-jest": "^0.5.0",
    "@pact-foundation/pact": "^15.0.0",
    "@tsconfig/node22": "^22.0.0",
    "@types/bunyan": "^1.8.8",
    "@types/bunyan-format": "^0.2.5",
    "@types/compression": "^1.7.2",
    "@types/connect-flash": "0.0.40",
    "@types/express-session": "^1.17.7",
    "@types/http-errors": "^2.0.1",
    "@types/jest": "^29.5.0",
    "@types/jest-when": "^3.5.2",
    "@types/jsonwebtoken": "^9.0.1",
    "@types/method-override": "^3.0.0",
    "@types/node": "^22.8.6",
    "@types/nunjucks": "^3.2.2",
    "@types/object.groupby": "^1.0.4",
    "@types/passport": "^1.0.12",
    "@types/passport-oauth2": "^1.4.12",
    "@types/superagent": "^8.0.0",
    "@types/supertest": "^6.0.0",
    "@types/uuid": "^10.0.0",
    "@typescript-eslint/eslint-plugin": "^7.0.0",
    "@typescript-eslint/parser": "^7.0.0",
    "audit-ci": "^7.0.0",
    "axe-core": "^4.7.2",
    "concurrently": "^9.0.0",
    "cypress": "^14.0.0",
    "cypress-axe": "^1.4.0",
    "cypress-mochawesome-reporter": "^3.5.1",
    "cypress-multi-reporters": "^2.0.0",
    "dotenv": "^17.0.0",
    "eslint": "^8.38.0",
    "eslint-config-airbnb-base": "^15.0.0",
    "eslint-config-prettier": "^10.0.0",
    "eslint-import-resolver-typescript": "^3.5.5",
    "eslint-plugin-cypress": "^3.0.0",
    "eslint-plugin-import": "^2.28.1",
    "eslint-plugin-no-only-tests": "^3.1.0",
    "eslint-plugin-prettier": "^5.0.0",
    "eslint-plugin-sort-exports": "^0.9.0",
    "jest": "^29.5.0",
    "jest-html-reporter": "^4.0.0",
    "jest-junit": "^16.0.0",
    "jest-pact": "^0.11.0",
    "jest-when": "^3.5.2",
    "jsonwebtoken": "^9.0.0",
    "mocha-junit-reporter": "^2.2.0",
    "nock": "^14.0.0",
    "nodemon": "^3.0.0",
    "prettier": "^3.0.0",
    "prettier-plugin-jinja-template": "^2.0.0",
    "sass": "^1.61.0",
    "start-server-and-test": "^2.0.0",
    "stylelint": "^16.0.2",
    "stylelint-config-clean-order": "^7.0.0",
    "stylelint-config-standard-scss": "^15.0.0",
    "stylelint-selector-bem-pattern": "^4.0.0",
    "supertest": "^7.0.0",
    "ts-jest": "^29.1.0",
    "ts-node": "^10.9.1",
    "typescript": "^5.0.0"
  },
  "optionalDependencies": {
    "djlint": "^1.27.0"
  }
}
